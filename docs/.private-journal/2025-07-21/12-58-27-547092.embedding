{
  "embedding": [
    -0.06869660317897797,
    -0.05073649808764458,
    0.05298040062189102,
    0.061867617070674896,
    -0.01839473657310009,
    0.01435768511146307,
    0.016688983887434006,
    0.060604315251111984,
    -0.014354138635098934,
    0.051032669842243195,
    -0.01757972501218319,
    -0.06189412251114845,
    -0.029966501519083977,
    0.03568252548575401,
    0.03647498041391373,
    -0.06739415228366852,
    0.05432683601975441,
    -0.07067480683326721,
    -0.024253303185105324,
    -0.06639985740184784,
    0.03326937556266785,
    -0.11425795406103134,
    0.11516623944044113,
    0.0031618094071745872,
    -0.019343063235282898,
    -0.005967081990092993,
    -0.009071942418813705,
    -0.0793151929974556,
    -0.0025651638861745596,
    0.0021790312603116035,
    -0.0164570864289999,
    0.07928705960512161,
    -0.1359139233827591,
    -0.08459130674600601,
    0.0576857253909111,
    -0.018215762451291084,
    0.06419539451599121,
    0.06462537497282028,
    -0.057792313396930695,
    -0.026185667142271996,
    0.03337240591645241,
    0.03367401659488678,
    -0.04460388049483299,
    -0.08484981954097748,
    0.02994588389992714,
    -0.08479596674442291,
    0.02513786591589451,
    -0.0892212763428688,
    -0.04724837467074394,
    0.0437043160200119,
    0.02365974895656109,
    0.06848148256540298,
    0.04263165593147278,
    0.008219169452786446,
    0.03321677818894386,
    -0.0003100027679465711,
    0.01535797119140625,
    0.0063694799318909645,
    0.0746253952383995,
    0.03769573196768761,
    -0.04057901352643967,
    -0.008799104951322079,
    -0.0007741498993709683,
    -0.044639959931373596,
    0.056280381977558136,
    0.08557509630918503,
    -0.019159065559506416,
    -0.02193322777748108,
    0.028872409835457802,
    0.0005976511165499687,
    -0.031776294112205505,
    0.006785673554986715,
    0.029972141608595848,
    0.017843695357441902,
    0.03238701447844505,
    0.009199723601341248,
    0.007777519524097443,
    -0.04194433242082596,
    0.041141580790281296,
    -0.05553324520587921,
    -0.00516602722927928,
    -0.02105349488556385,
    0.008349202573299408,
    -0.004168225917965174,
    -0.01490410603582859,
    0.10153024643659592,
    0.08342351764440536,
    -0.08387388288974762,
    -0.014170856215059757,
    0.02012394368648529,
    0.07981165498495102,
    -0.01583600789308548,
    -0.008790947496891022,
    0.07459115236997604,
    0.03260268270969391,
    -0.04730655252933502,
    0.025355374440550804,
    0.05102616921067238,
    0.024620138108730316,
    0.03955674543976784,
    0.035318005830049515,
    -0.07025527954101562,
    0.05921236053109169,
    0.08280583471059799,
    -0.00224929372780025,
    0.0642981007695198,
    0.01306090597063303,
    -0.13929420709609985,
    0.003509771078824997,
    -0.0035984856076538563,
    0.024225933477282524,
    -0.029374998062849045,
    0.021173663437366486,
    -0.028313230723142624,
    -0.018691767007112503,
    -0.005797048565000296,
    0.010595547035336494,
    0.00307631166651845,
    0.030581366270780563,
    0.028358958661556244,
    0.08995189517736435,
    0.05141127482056618,
    -0.002716099377721548,
    0.015665795654058456,
    0.1223423108458519,
    -0.0010974188335239887,
    0.1172032356262207,
    5.681467254661437e-33,
    -0.018610619008541107,
    -0.044587790966033936,
    -0.041803229600191116,
    0.08325332403182983,
    0.08961287140846252,
    0.013405169360339642,
    0.042814698070287704,
    0.047973789274692535,
    -0.0681823194026947,
    0.0011745392112061381,
    0.01522975042462349,
    -0.01043863408267498,
    -0.04420651122927666,
    -0.03074914775788784,
    0.019587641581892967,
    -0.02383124828338623,
    0.003974507097154856,
    0.012178941629827023,
    -0.005480459425598383,
    0.0795077234506607,
    0.04402588680386543,
    -0.017206629738211632,
    -0.007252074778079987,
    -0.06215743348002434,
    -0.0025734147056937218,
    -0.040151309221982956,
    -0.04479389265179634,
    0.0655367448925972,
    -0.06189941242337227,
    -0.005078631453216076,
    -0.05588585138320923,
    0.0516418032348156,
    0.013515347614884377,
    0.061043910682201385,
    -0.06878410279750824,
    -0.027097057551145554,
    0.03611364960670471,
    -0.03704448416829109,
    -0.06165103614330292,
    0.02163877710700035,
    -0.10009447485208511,
    -0.003339180490002036,
    -0.07604831457138062,
    0.03183801472187042,
    0.01935066282749176,
    -0.10602777451276779,
    0.014254811219871044,
    0.014722391963005066,
    0.0340372771024704,
    0.03547799959778786,
    0.013086051680147648,
    0.13712067902088165,
    0.04387274757027626,
    -0.10446640849113464,
    0.03411174193024635,
    0.060971856117248535,
    0.0680682510137558,
    -0.013894564472138882,
    0.10474173724651337,
    0.06901700049638748,
    -0.030247218906879425,
    -0.015058716759085655,
    -0.049910515546798706,
    0.02505284920334816,
    0.019155150279402733,
    0.0851534828543663,
    0.02780798450112343,
    -0.07792909443378448,
    0.002593609970062971,
    -0.0012926151975989342,
    -0.03451845794916153,
    0.03152860701084137,
    -0.020414400845766068,
    -0.018814364448189735,
    0.09709962457418442,
    -0.04629567265510559,
    -0.006411341950297356,
    0.004421649966388941,
    -0.015075701288878918,
    -0.1001073494553566,
    0.09702844172716141,
    -0.08056558668613434,
    0.00698597077280283,
    0.03613230958580971,
    0.022487211972475052,
    -0.12056875973939896,
    0.02667379006743431,
    -0.07007918506860733,
    -0.05801571533083916,
    -0.05851363018155098,
    0.01657984033226967,
    -0.014393022283911705,
    0.04635383188724518,
    -0.00030572537798434496,
    0.040929414331912994,
    -5.670174794711866e-33,
    0.06737228482961655,
    0.0482475608587265,
    -0.061423446983098984,
    0.05771460756659508,
    -0.030165910720825195,
    -0.04970139265060425,
    -0.03051106445491314,
    -0.034674022346735,
    -0.0409679114818573,
    -0.04177728295326233,
    0.03920942172408104,
    -0.006297427695244551,
    -0.06059723719954491,
    -0.02253098227083683,
    -0.09556015580892563,
    0.0858493521809578,
    0.026929862797260284,
    -0.07069947570562363,
    0.017613928765058517,
    -0.07568090409040451,
    0.06676208227872849,
    0.02582845464348793,
    -0.03822221979498863,
    0.00960895512253046,
    -0.03389360010623932,
    -0.028123212978243828,
    0.07895681262016296,
    0.016324754804372787,
    0.06980365514755249,
    -0.052449073642492294,
    0.0004509445861913264,
    0.05916117876768112,
    -0.02474873885512352,
    -0.06606432050466537,
    0.06063214689493179,
    0.008686398155987263,
    0.04882296174764633,
    -0.004292775876820087,
    -0.004809314385056496,
    0.013641816563904285,
    0.01594204269349575,
    0.04336176812648773,
    0.0014876428758725524,
    -0.023925626650452614,
    -0.04872468113899231,
    0.06581750512123108,
    -0.02361559309065342,
    -0.00866283942013979,
    -0.03715009614825249,
    0.010853220708668232,
    0.018586046993732452,
    -0.08766227215528488,
    -0.032377757132053375,
    0.0019013532437384129,
    -0.03372102603316307,
    -0.030516665428876877,
    -0.011459161527454853,
    -0.07133348286151886,
    -0.07432638108730316,
    0.02167343534529209,
    0.02449733018875122,
    -0.000014294092579802964,
    0.009661408141255379,
    -0.014396213926374912,
    0.08525838702917099,
    -0.0062995413318276405,
    -0.00731066707521677,
    -0.03458927571773529,
    0.14079107344150543,
    -0.02735559642314911,
    0.08652994781732559,
    -0.0562204048037529,
    0.0007927280967123806,
    -0.01475703064352274,
    0.10229536890983582,
    0.06971689313650131,
    0.0733499750494957,
    -0.057540785521268845,
    0.07761652767658234,
    -0.012093565426766872,
    -0.0621475949883461,
    -0.047891631722450256,
    0.05550675094127655,
    -0.05026274546980858,
    -0.08427463471889496,
    0.07609260082244873,
    -0.03706073388457298,
    0.12050430476665497,
    0.0320466011762619,
    0.0566418282687664,
    0.053856078535318375,
    -0.05577383190393448,
    -0.004569065757095814,
    0.005861283279955387,
    0.023729076609015465,
    -5.844033523771941e-8,
    -0.030333414673805237,
    0.01283983327448368,
    -0.12030097842216492,
    -0.024874497205018997,
    -0.08121225237846375,
    -0.06633537262678146,
    -0.008492730557918549,
    -0.05121966823935509,
    0.011878476478159428,
    -0.04752757400274277,
    0.028203485533595085,
    0.02567576989531517,
    0.009296445176005363,
    0.017532048746943474,
    0.08879999816417694,
    -0.00522973109036684,
    -0.06480677425861359,
    0.006527623161673546,
    -0.06880386918783188,
    0.009282702580094337,
    -0.05854388698935509,
    0.04152315855026245,
    0.029731884598731995,
    -0.06473834812641144,
    -0.05573708936572075,
    0.03640090301632881,
    0.01290028728544712,
    0.10206878930330276,
    0.01215880922973156,
    0.046471480280160904,
    -0.0074709635227918625,
    -0.03689366579055786,
    -0.09040890634059906,
    -0.05387846380472183,
    -0.03288155794143677,
    -0.01753922924399376,
    0.012336600571870804,
    -0.00026218066341243684,
    0.036622028797864914,
    0.10435059666633606,
    0.005378353875130415,
    -0.08332423120737076,
    -0.032636288553476334,
    -0.04507758468389511,
    -0.05589159205555916,
    -0.0701151192188263,
    -0.07729522138834,
    -0.0001961659436346963,
    0.009907573461532593,
    -0.044484544545412064,
    -0.07306449860334396,
    0.026198068633675575,
    -0.0827462449669838,
    -0.005867446772754192,
    -0.0515633262693882,
    -0.02896839752793312,
    0.07670522481203079,
    0.01771588996052742,
    -0.019990932196378708,
    -0.02289283461868763,
    0.010639974847435951,
    -0.02055748924612999,
    0.0028686777222901583,
    -0.008024012669920921
  ],
  "text": "Found the pattern of problematic UI component tests that need to be fixed:\n\n**Terminal Tool Renderer Tests**: 11 test files in `src/interfaces/terminal/components/events/tool-renderers/` that mock the `useTimelineItemExpansion` hook:\n- BashToolRenderer.test.tsx\n- TaskUpdateToolRenderer.test.tsx \n- GenericToolRenderer.test.tsx\n- (and 8 more similar files)\n\n**Current Problem Pattern**:\n```typescript\nvi.mock('../hooks/useTimelineExpansionToggle.js', () => ({\n  useTimelineItemExpansion: () => ({\n    isExpanded: false,\n    onExpand: vi.fn(),\n    onCollapse: vi.fn(),\n  }),\n}));\n```\n\n**Real Hook Architecture**: The `useTimelineItemExpansion` hook is sophisticated - it manages expansion state, listens for timeline-level events only when selected, and provides proper expand/collapse functionality. The tests are currently mocking this entire behavior instead of testing real component integration.\n\n**Web Component Tests**: The TaskList.test.tsx looks good - it tests real component behavior, user interactions, and doesn't mock internal behavior. It only uses vi.fn() for callback props which is appropriate.\n\n**Fix Strategy**: \n1. Remove the useTimelineItemExpansion hook mocks from terminal tests\n2. Test real expansion behavior by providing proper providers and testing user interactions\n3. The tests should verify that expansion toggles work, that content shows/hides correctly\n4. Keep necessary mocks like ink-testing-library since that's for the terminal UI framework",
  "sections": [
    "Project Notes"
  ],
  "timestamp": 1753127907547,
  "path": "/Users/jesse/Documents/GitHub/lace/.worktrees/f-integrate-spicy-web/docs/.private-journal/2025-07-21/12-58-27-547092.md"
}