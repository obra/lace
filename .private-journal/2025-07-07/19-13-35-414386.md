---
title: "7:13:35 PM - July 7, 2025"
date: 2025-07-08T02:13:35.414Z
timestamp: 1751940815414
---

## Project Notes

Timeline scrolling implementation details:

`useTimelineViewport` hook is the core - manages:
- Selected line and scroll offset state
- Item position measurements (line numbers where each item starts)
- Auto-scrolling when selection moves off-screen
- Jump to bottom behavior for new content
- Navigation functions (up/down/pageup/pagedown/top/bottom)

The "virtualization" is actually just viewport clipping - content is rendered but hidden with `overflow="hidden"` and `marginTop={-lineScrollOffset}`. Not true virtualization but works well for terminal rendering.

`TimelineContent` does render optimization by only rendering recent items (viewport + 5 buffer). This is a simple windowed approach, not full virtualization.

Height measurement happens post-render using Ink's `measureElement()`. When content changes (expand/collapse), `triggerRemeasurement()` is called which updates `measurementTrigger` state, causing re-measurement in useEffect.

The scroll indicators ("↑ content above ↑") are simple - just check if scrollOffset > 0 or if total height exceeds viewport.
