---
title: "1:41:32 PM - September 6, 2025"
date: 2025-09-06T20:41:32.613Z
timestamp: 1757191292613
---

## Project Notes

Current MCP architecture is clean and simple:
- MCPServerManager: Handles server lifecycle and SDK client connections  
- MCPToolRegistry: Discovers tools when servers start, manages tool-to-server mapping
- ToolExecutor: Integrates MCP tools with native tools, handles execution
- Session: Coordinates everything, starts servers on demand

The registerMCPTools() call happens in Session.createConfiguredToolExecutor() and is non-blocking by design. Tool discovery happens in background when servers start.

The real problem seems to be Project.createToolExecutor() which is used by configuration APIs and creates expensive ToolExecutor instances just to list available tools. This is the actual pain point - not session startup.

A much simpler solution would be to have ToolCatalog read from the same sources as ToolExecutor but without actually starting servers or doing expensive operations.
