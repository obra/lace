---
title: "2:12:42 PM - August 10, 2025"
date: 2025-08-10T21:12:42.195Z
timestamp: 1754860362195
---

## Project Notes

TokenBudgetManager removal is complete and committed. Now focusing on fixing the failing tests that relied on the old system. The pattern is clear:

1. Mock providers need getAvailableModels() method
2. Context window sizes in tests should be reasonable (not 128k+ tokens) to make auto-compaction testable
3. Tests are failing because they expect TokenBudgetManager methods that no longer exist

The agent-auto-compact.test.ts fix was successful - reduced context window from 128k to 12k tokens and added proper getAvailableModels() implementation. This made auto-compaction actually trigger in tests.

Next step is to find and fix retry-integration.test.ts and any other failing test files with the same pattern.
