---
title: "9:07:59 PM - August 4, 2025"
date: 2025-08-05T01:07:59.058Z
timestamp: 1754356079058
---

## Project Notes

CRITICAL REALIZATION: The old provider registry system fallback in resolveProviderInstance() is legacy code that needs to be removed, not used as a solution.

Current problematic code in Session.ts lines 768-778:
- Falls back to old ProviderRegistry.createWithAutoDiscovery()
- Uses hardcoded 'anthropic' provider
- This is exactly what Jesse wants removed

The proper solution should be:
1. When no provider instances configured, either auto-create default ones from detected environment (ANTHROPIC_KEY, OPENAI_API_KEY)
2. Or provide a clear path for users to configure provider instances
3. Or gracefully handle the case where users need to set up provider instances first

The ProviderInstanceManager.getDefaultConfig() returns empty instances, but maybe it should auto-populate with detected environment keys.

Need to figure out the intended architecture for bootstrapping provider instances when none exist.
