---
title: "2:19:20 PM - August 4, 2025"
date: 2025-08-04T18:19:20.551Z
timestamp: 1754331560551
---

## Project Notes

SpawnAgent migration analysis complete:

CURRENT SITUATION:
- 71 total spawnAgent calls found
- Session.spawnAgent() already updated to new interface: {name?, providerInstanceId?, modelId?}
- Old interface was: (name: string, provider?: string, model?: string)

CALL CATEGORIES:
1. Test files: ~45 calls - mostly pattern spawnAgent('Name', 'anthropic', 'model')
2. Web API routes: 2-3 calls - already partially updated but still using old interface
3. Internal Session usage: 1 call - already using new interface (task manager)

KEY FILES TO UPDATE:
- All *test.ts files with spawnAgent calls
- /packages/web/app/api/sessions/[sessionId]/agents/route.ts (main API)
- CreateAgentRequest interface needs providerInstanceId field added

BRIDGE NEEDED:
- Helper function to resolve provider string â†’ provider instance ID
- Fallback when provider instances don't exist
- Test utilities for creating mock provider instances
