---
title: "11:52:54 AM - August 5, 2025"
date: 2025-08-05T18:52:54.296Z
timestamp: 1754419974296
---

## Project Notes

Current issue: Agent creation in packages/web/app/api/sessions/[sessionId]/route.test.ts produces "unknown-model" instead of "claude-3-5-haiku-20241022". 

Root cause appears to be conflicting approaches:
- Test has ProviderRegistry mock (lines 23-44) 
- Test also creates real provider instance via createTestProviderInstance()
- These two approaches are interfering with each other

Solution: Remove the ProviderRegistry mock and rely solely on real provider instances, which is the established pattern from other successful test fixes.
