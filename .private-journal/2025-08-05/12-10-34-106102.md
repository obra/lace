---
title: "12:10:34 PM - August 5, 2025"
date: 2025-08-05T16:10:34.106Z
timestamp: 1754410234106
---

## Project Notes

Found that several test files had already been partially or fully updated to use the correct `createTestProviderInstance` pattern, but some had failing tests initially. The pattern change eliminates race conditions by creating provider instances individually rather than in batches.

Working pattern template:
```typescript
// Import
import { createTestProviderInstance, cleanupTestProviderInstances } from '~/test-utils/provider-instances';

// Variable declaration
let providerInstanceId: string;

// beforeEach setup
providerInstanceId = await createTestProviderInstance({
  catalogId: 'anthropic',
  models: ['claude-3-5-haiku-20241022'],
  displayName: 'Test Anthropic Instance',
  apiKey: 'test-anthropic-key',
});

// afterEach cleanup
await cleanupTestProviderInstances([providerInstanceId]);
```

All high-priority files are now fixed and passing their tests.
