---
title: "3:08:08 PM - July 13, 2025"
date: 2025-07-13T22:08:08.360Z
timestamp: 1752444488360
---

## Project Notes

Current streaming architecture:
- /api/conversations/stream: Sets up SSE connection, doesn't send messages initially
- /api/conversations/message: Sends messages to existing Agent thread
- Both use getAgentFromRequest() to get the same Agent instance
- Agent should be shared via globalThis.__laceAgent

The first message not working suggests either:
1. SSE connection not established properly
2. Message endpoint not finding the Agent
3. Agent/thread state not properly shared
4. Frontend not using the new architecture correctly

Need to trace through the full flow to find where it breaks.
