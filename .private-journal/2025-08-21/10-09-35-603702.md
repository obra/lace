---
title: "10:09:35 AM - August 21, 2025"
date: 2025-08-21T17:09:35.603Z
timestamp: 1755796175603
---

## Project Notes

Just completed a significant CI optimization for the Lace project. Key changes made:

1. **Disabled Playwright tests in CI** - These were burning too much CPU and were the main cost driver
2. **Restricted full test suite to Linux only** - Removed macOS from the test matrix, keeping only ubuntu-latest
3. **Removed build-and-package job** - Eliminated duplicate job since build-executable workflow handles packaging
4. **Consolidated lint-and-format + build jobs** - Combined into single "lint-build" job to reduce redundant setup
5. **Added build caching** - Using GitHub Actions cache to avoid rebuilding node_modules and build artifacts across jobs
6. **Made build-executable workflow more selective** - Only runs on main branch pushes and tags, removed PR triggers except manual dispatch

The workflow now has better dependency management:
- lint-build job creates cached build artifacts
- test and test-coverage jobs restore from cache instead of rebuilding
- All jobs still install system dependencies but avoid duplicate npm installs when cache hits

This should significantly reduce GitHub Actions CPU usage and costs while maintaining the same quality gates. The jobs now run in sequence (lint-build â†’ test + test-coverage in parallel) instead of all in parallel, which might be slightly slower but much more efficient resource-wise.

Key architecture insight: GitHub Actions billing is primarily based on compute minutes, so reducing parallel job count and eliminating heavyweight operations like Playwright browser installs will have the biggest cost impact.
