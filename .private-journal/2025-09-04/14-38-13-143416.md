---
title: "2:38:13 PM - September 4, 2025"
date: 2025-09-04T21:38:13.143Z
timestamp: 1757021893143
---

## Project Notes

MCP Architecture Decisions So Far

Configuration: 
- Additive system (global → project → session)
- Server-level enable/disable + tool-level approval policies
- Extended approval levels: disable, deny, require-approval, allow-project, allow-session

Process Management:
- Hybrid stdio + TCP transports
- Strict process isolation (no in-process MCP servers)
- Process-per-server model

Tool Integration:
- Adapter pattern (C): MCPToolAdapter extends Tool base class
- Dynamic Zod schema generation from MCP JSON Schema
- Reuse existing approval/execution logic

Server Management:
- Layered approach (B): MCPServerManager handles process lifecycle
- ToolExecutor calls into MCPServerManager for MCP tool execution
- Clean separation of concerns

Next: Need to understand configuration file structure and loading
