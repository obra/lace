{
  "embedding": [
    0.0025043191853910685,
    -0.11397623270750046,
    0.050020329654216766,
    0.00874622818082571,
    0.025066524744033813,
    -0.009959405288100243,
    0.05299676954746246,
    -0.051688287407159805,
    0.04532528296113014,
    -0.046120643615722656,
    0.02565375529229641,
    -0.02527960203588009,
    -0.03800658509135246,
    0.03844644874334335,
    -0.008456272073090076,
    -0.03147459775209427,
    0.024687085300683975,
    -0.10353867709636688,
    -0.08816348761320114,
    0.013185223564505577,
    0.06919816881418228,
    -0.055733468383550644,
    0.08208925276994705,
    0.01968548074364662,
    -0.015319895930588245,
    -0.024593066424131393,
    -0.06126220151782036,
    -0.07304497808218002,
    0.02736101858317852,
    0.0102870874106884,
    0.006385458633303642,
    -0.00814773514866829,
    -0.08763257414102554,
    0.053802233189344406,
    -0.08900342136621475,
    -0.011712359264492989,
    -0.025094499811530113,
    0.018276702612638474,
    -0.038110654801130295,
    -0.05249127000570297,
    -0.03866436704993248,
    0.0762796401977539,
    0.010849677957594395,
    -0.002650192007422447,
    -0.01714889518916607,
    0.02313299849629402,
    -0.016432516276836395,
    0.013524379581212997,
    -0.029250964522361755,
    0.022863181307911873,
    -0.06228343024849892,
    0.03168082982301712,
    0.026089800521731377,
    0.020590167492628098,
    0.11870154738426208,
    0.08895308524370193,
    0.033673420548439026,
    0.018255576491355896,
    0.07313662022352219,
    0.017608806490898132,
    -0.10229890793561935,
    0.03390294685959816,
    -0.036274418234825134,
    -0.07055897265672684,
    -0.004608278628438711,
    0.0822211503982544,
    0.05098665505647659,
    -0.058336298912763596,
    -0.01657203771173954,
    -0.022873777896165848,
    -0.03486986830830574,
    -0.01577792502939701,
    0.004967357497662306,
    -0.06981230527162552,
    0.03277656435966492,
    -0.027595752850174904,
    -0.009466251358389854,
    -0.0585213303565979,
    -0.046414364129304886,
    -0.12290484458208084,
    0.12065916508436203,
    -0.04702010005712509,
    -0.041825585067272186,
    -0.023506654426455498,
    0.11828099191188812,
    -0.014403295703232288,
    -0.07999230921268463,
    -0.12313113361597061,
    -0.011967583559453487,
    0.05595500022172928,
    -0.013295305892825127,
    -0.08715755492448807,
    0.1021340936422348,
    0.04953346028923988,
    0.10311674326658249,
    0.02011212147772312,
    0.019700007513165474,
    0.047085072845220566,
    -0.005791077855974436,
    0.03251277282834053,
    0.03151022270321846,
    -0.10907112061977386,
    -0.039210472255945206,
    -0.02007695473730564,
    0.028038334101438522,
    0.04387485608458519,
    -0.005927968770265579,
    -0.08070886880159378,
    -0.10493338108062744,
    0.03979342803359032,
    0.0316508524119854,
    -0.0035735785495489836,
    -0.03229852393269539,
    0.03386076167225838,
    -0.029751578345894814,
    0.07437065988779068,
    0.02301270142197609,
    0.00002809203760989476,
    0.07589028775691986,
    0.01919889636337757,
    0.0036321154329925776,
    -0.022619161754846573,
    0.05347594991326332,
    0.013026181608438492,
    0.02471909113228321,
    -0.08676209300756454,
    0.0560561865568161,
    4.856888089602342e-33,
    -0.03316289931535721,
    -0.09697137027978897,
    -0.09686136990785599,
    -0.006219667848199606,
    -0.03650869429111481,
    0.04936419054865837,
    -0.017109407112002373,
    0.024899130687117577,
    -0.013222964480519295,
    -0.035315681248903275,
    0.019857048988342285,
    -0.038555994629859924,
    -0.05560425668954849,
    -0.0581168532371521,
    0.08746188879013062,
    -0.07023411989212036,
    0.02806740440428257,
    0.11488877236843109,
    -0.07018246501684189,
    0.029790448024868965,
    -0.01718270033597946,
    0.05443386733531952,
    -0.0807412788271904,
    -0.05126698315143585,
    0.024960683658719063,
    -0.00785831455141306,
    -0.05691511183977127,
    -0.01553371548652649,
    0.0012405517045408487,
    0.006745264399796724,
    -0.06331274658441544,
    0.04709061607718468,
    -0.007737092208117247,
    0.04277810826897621,
    0.018291568383574486,
    0.019377119839191437,
    0.024694379419088364,
    -0.030311105772852898,
    -0.008322712033987045,
    -0.057489581406116486,
    -0.09859776496887207,
    0.042729783803224564,
    -0.040267717093229294,
    -0.04344481602311134,
    -0.045694123953580856,
    -0.05708978697657585,
    -0.05992855131626129,
    0.055196069180965424,
    -0.020910508930683136,
    0.023603074252605438,
    0.04420965537428856,
    0.051600851118564606,
    0.08223313093185425,
    -0.10173845291137695,
    -0.001852638553828001,
    -0.025463992729783058,
    0.009235057048499584,
    0.016011979430913925,
    0.0892881527543068,
    0.06211221590638161,
    0.01658707484602928,
    -0.02647211402654648,
    -0.04503145441412926,
    0.004279495216906071,
    0.023398248478770256,
    0.09622995555400848,
    -0.05500994250178337,
    0.06512367725372314,
    0.04942243546247482,
    -0.027948040515184402,
    -0.06486673653125763,
    0.023550966754555702,
    0.018267573788762093,
    -0.017612023279070854,
    0.06483054906129837,
    0.005618015769869089,
    -0.0931362435221672,
    0.051123302429914474,
    -0.034126512706279755,
    -0.04847681522369385,
    -0.008058452047407627,
    0.02763884700834751,
    -0.0000055026807785907295,
    0.06470504403114319,
    -0.01553525123745203,
    -0.02388959750533104,
    -0.043304238468408585,
    0.014773220755159855,
    -0.05597076192498207,
    0.04507569968700409,
    0.013315463438630104,
    0.014469252899289131,
    0.015542393550276756,
    -0.014203193597495556,
    -0.014274920336902142,
    -5.9421309229043714e-33,
    -0.00017196674889419228,
    0.05964699760079384,
    -0.013994909822940826,
    -0.009156362153589725,
    -0.016617389395833015,
    0.004566938616335392,
    -0.00934862531721592,
    -0.028318697586655617,
    0.0016482516657561064,
    -0.12184988707304001,
    -0.03461206331849098,
    0.014996186830103397,
    -0.02798139490187168,
    0.016784995794296265,
    -0.03588069975376129,
    0.023102520033717155,
    -0.011654439382255077,
    0.06043928489089012,
    -0.03488704562187195,
    0.008858337998390198,
    0.11654934287071228,
    -0.03369654342532158,
    -0.06957448273897171,
    -0.01585809886455536,
    -0.024041559547185898,
    0.025033731013536453,
    0.0031231215689331293,
    0.07774094492197037,
    0.09732432663440704,
    -0.04376655071973801,
    -0.013588519766926765,
    0.05927351489663124,
    -0.00602189963683486,
    -0.06573137640953064,
    -0.058382339775562286,
    -0.011021364480257034,
    -0.030713196843862534,
    -0.02589467354118824,
    -0.0491236113011837,
    -0.013674349524080753,
    0.1121087446808815,
    0.031145457178354263,
    -0.021521620452404022,
    -0.015231764875352383,
    -0.02868836373090744,
    0.05052489414811134,
    -0.012637492269277573,
    0.04095457121729851,
    -0.011594758369028568,
    -0.004426212981343269,
    -0.026364965364336967,
    -0.015748802572488785,
    0.00036246146191842854,
    -0.05681795999407768,
    -0.06879901140928268,
    0.06868544965982437,
    0.08295506238937378,
    -0.019211115315556526,
    0.029985854402184486,
    -0.04268420860171318,
    0.06029023975133896,
    0.005946087185293436,
    -0.014533713459968567,
    -0.07384560257196426,
    0.08523521572351456,
    0.03737408295273781,
    0.010657903738319874,
    -0.06316637992858887,
    0.10741123557090759,
    0.0494384728372097,
    0.07047858834266663,
    -0.001292966422624886,
    -0.0039136684499681,
    -0.08319971710443497,
    0.026723753660917282,
    0.13174360990524292,
    0.07027190923690796,
    -0.025274651125073433,
    0.036056581884622574,
    0.06389627605676651,
    -0.005339221563190222,
    0.011773542501032352,
    0.05769616365432739,
    0.036748215556144714,
    -0.025126472115516663,
    0.09957560896873474,
    0.010705051012337208,
    0.018943551927804947,
    0.02018040046095848,
    0.012003417126834393,
    -0.033046651631593704,
    -0.05118275061249733,
    -0.003518511774018407,
    0.011444324627518654,
    0.019866855815052986,
    -5.036378425415933e-8,
    -0.02763732336461544,
    0.07525904476642609,
    -0.10525830835103989,
    -0.008194698952138424,
    -0.07996942847967148,
    -0.025338739156723022,
    0.01044189091771841,
    -0.0386684313416481,
    -0.03444867208600044,
    -0.08537962287664413,
    0.0677773654460907,
    0.03666555881500244,
    -0.010989649221301079,
    -0.047426920384168625,
    0.04689518362283707,
    -0.024251282215118408,
    -0.05724741891026497,
    -0.04763054475188255,
    -0.07323198020458221,
    0.014225270599126816,
    0.030848277732729912,
    -0.019719596952199936,
    -0.05888218432664871,
    0.05925729498267174,
    -0.12008330971002579,
    0.011536634527146816,
    -0.021505996584892273,
    0.13382437825202942,
    0.03238290175795555,
    -0.01699640601873398,
    0.025392288342118263,
    0.022277353331446648,
    -0.05188653990626335,
    0.011663520708680153,
    -0.1283683329820633,
    -0.005247438792139292,
    -0.03547191247344017,
    -0.021580606698989868,
    0.0617370679974556,
    0.06591235101222992,
    0.05623846873641014,
    -0.08365550637245178,
    -0.030446579679846764,
    0.06664935499429703,
    0.03669162839651108,
    0.060991138219833374,
    0.029815390706062317,
    -0.019480867311358452,
    0.03941194713115692,
    0.03202689066529274,
    -0.07800617814064026,
    0.017178868874907494,
    -0.031850479543209076,
    0.060213129967451096,
    0.05618146061897278,
    0.0011383487144485116,
    0.0711192935705185,
    -0.010156597010791302,
    -0.0015458124689757824,
    -0.0132656404748559,
    0.0735696479678154,
    0.016669299453496933,
    -0.030300287529826164,
    0.08000188320875168
  ],
  "text": "ANALYZING TIMELINE FOCUS ISOLATION ISSUE\n\nBased on my examination of the code, I think I understand the problem:\n\n**The Problem:**\nWhen a user enters a delegate timeline (by pressing Return on a delegate tool execution), both the main timeline (in ConversationDisplay) and the embedded delegate timeline (inside DelegateToolRenderer) are responding to arrow keys simultaneously.\n\n**Current Architecture:**\n1. ConversationDisplay renders a TimelineDisplay with main timeline\n2. TimelineDisplay wraps content in TimelineViewport \n3. TimelineViewport uses `useLaceFocus(FocusRegions.timeline)` and `useInput(..., { isActive: isFocused })`\n4. DelegateToolRenderer also renders a TimelineDisplay for the delegate thread\n5. The delegate TimelineDisplay also wraps in TimelineViewport with same focus ID pattern\n\n**The Issue:**\nBoth TimelineViewport instances (main and delegate) are using the same focus region type (`FocusRegions.timeline`), so when one gets focus, both think they should be active. The `{ isActive: isFocused }` should prevent this, but it seems both are getting `isFocused: true`.\n\n**Key Lines:**\n- TimelineViewport.tsx line 39: `useLaceFocus(FocusRegions.timeline, { autoFocus: false })`\n- TimelineViewport.tsx line 98: `{ isActive: isFocused }`\n- DelegateToolRenderer.tsx line 294: renders another `<TimelineDisplay timeline={timeline} />`\n\nThe delegate timeline should be using a different focus region or the main timeline should check if a delegate has focus before responding to keys.",
  "sections": [
    "Project Notes"
  ],
  "timestamp": 1751224123875,
  "path": "/Users/jesse/Documents/GitHub/lace/.private-journal/2025-06-29/12-08-43-875269.md"
}