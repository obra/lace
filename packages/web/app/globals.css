@import 'tailwindcss';
@import '@fortawesome/fontawesome-svg-core/styles.css';
/* Optimized font loading with variable fonts and selective weights */
/* Font imports handled in app/fonts.ts */
@plugin "daisyui";

/* Typography: utilities bound to local fonts */
:root {
  /* Local fonts via @fontsource packages */
  --font-lato:
    'Lato', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
    sans-serif, var(--font-emoji);
  --font-dm-sans:
    'DM Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
    sans-serif, var(--font-emoji);
  --font-google-sans-code:
    'Google Sans Code', 'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    'Liberation Mono', 'Courier New', monospace;
  --font-emoji:
    'Noto Emoji', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
}

/* Google Sans Code now loaded via @fontsource package for consistency */

/* Use DM Sans for UI text where desired */
.font-ui {
  font-family:
    var(--font-dm-sans, 'DM Sans'),
    ui-sans-serif,
    system-ui,
    -apple-system,
    Segoe UI,
    Roboto,
    Noto Sans,
    Ubuntu,
    Cantarell,
    Helvetica Neue,
    Arial,
    var(--font-emoji);
}

/* Use Google Sans Code for code and technical content */
.font-code {
  font-family:
    var(--font-google-sans-code, 'Google Sans Code'), 'JetBrains Mono', ui-monospace,
    SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
}

/* Use Lato where desired */
.font-lato {
  font-family:
    var(--font-lato, 'Lato'),
    ui-sans-serif,
    system-ui,
    -apple-system,
    Segoe UI,
    Roboto,
    Noto Sans,
    Ubuntu,
    Cantarell,
    Helvetica Neue,
    Arial,
    var(--font-emoji);
}

/* Mobile-specific improvements */
@supports (padding: max(0px)) {
  .h-safe-bottom {
    height: max(16px, env(safe-area-inset-bottom));
  }
}

/* Smooth scrolling for mobile */
.overscroll-contain {
  overscroll-behavior: contain;
}

/* Better mobile text selection */
.timeline-entry {
  -webkit-user-select: text;
  user-select: text;
}

/* Prevent zoom on input focus (iOS) */
input,
textarea,
select {
  font-size: 16px;
}

@media (min-width: 1024px) {
  input,
  textarea,
  select {
    font-size: 14px;
  }
}

/* Dropdown animation fix */
[x-collapse] {
  overflow: hidden;
  transition: height 0.3s ease;
}

/* Sidebar toggle button enhancement */
.sidebar-toggle {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* Smooth sidebar transitions */
.sidebar-content {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Avatar ring effect */
.avatar-ring {
  box-shadow:
    0 0 0 2px var(--b3),
    0 0 0 4px var(--p);
}

/* Progress bar animation */
.progress-fill {
  transition: width 0.6s ease;
}

/* Collapsed sidebar icon hover effects */
.collapsed-icon:hover {
  transform: scale(1.1);
  transition: transform 0.2s ease;
}

/* Mobile sidebar slide animation */
@keyframes slide-in-left {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(0);
  }
}

.animate-slide-in-left {
  animation: slide-in-left 0.3s ease-out;
}

/* Hide scrollbar for carousel */
.hide-scrollbar {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}

.hide-scrollbar::-webkit-scrollbar {
  display: none; /* Chrome, Safari and Opera */
}

/* Monospace font utilities for code, terminal, and technical content */
.font-mono {
  font-family:
    'Google Sans Code', 'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    'Liberation Mono', 'Courier New', monospace !important;
  font-variant-ligatures: common-ligatures;
  font-feature-settings:
    'liga' 1,
    'calt' 1;
  text-rendering: optimizeLegibility;
}

/* Ensure proper spacing for monospace content */
.font-mono code,
.font-mono pre {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
}

/* Syntax highlighting overrides for DaisyUI integration */
.hljs {
  background: transparent !important;
  padding: 0 !important;
  overflow-x: visible !important;
}

/* Code block styling */
.code-block {
  @apply bg-base-300 border border-base-300 rounded-lg overflow-hidden;
}

.code-block-header {
  @apply bg-base-200 px-4 py-2 border-b border-base-300 flex items-center justify-between;
}

.code-block-content {
  @apply p-4 overflow-x-auto;
}

.code-block-language {
  @apply text-xs text-base-content opacity-60 font-mono;
}

.code-block-copy {
  @apply text-xs text-base-content opacity-60 hover:text-base-content hover:opacity-100 cursor-pointer;
}

/* Inline code styling */
.inline-code {
  @apply bg-base-300 px-2 py-1 rounded text-accent font-mono text-sm;
}

/* Diff styling for syntax highlighted code */
.diff-line {
  @apply flex items-start;
}

.diff-line.added {
  @apply bg-success/10 border-l-2 border-success;
}

.diff-line.removed {
  @apply bg-error/10 border-l-2 border-error;
}

.diff-line.highlighted {
  @apply bg-warning/10;
}

/* Syntax highlighting using DaisyUI theme colors */
.hljs-keyword,
.hljs-selector-tag,
.hljs-built_in,
.hljs-name,
.hljs-tag {
  @apply text-primary;
}

.hljs-string,
.hljs-attr,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
  @apply text-secondary;
}

.hljs-comment,
.hljs-quote,
.hljs-deletion {
  @apply text-base-content opacity-50;
}

.hljs-number,
.hljs-literal,
.hljs-variable,
.hljs-template-variable {
  @apply text-accent;
}

.hljs-title,
.hljs-class .hljs-title,
.hljs-type,
.hljs-function .hljs-title {
  @apply text-info;
}

.hljs-attribute,
.hljs-property,
.hljs-params {
  @apply text-success;
}

.hljs-regexp,
.hljs-link {
  @apply text-warning;
}

.hljs-selector-id,
.hljs-selector-class,
.hljs-selector-pseudo {
  @apply text-secondary;
}

.hljs-meta,
.hljs-doctag {
  @apply text-neutral;
}

.hljs-emphasis {
  @apply italic;
}

.hljs-strong {
  @apply font-bold;
}

/* Terminal syntax highlighting colors for fallback */
.terminal-syntax {
  @apply font-mono text-sm;
}

.terminal-syntax .hljs-string {
  @apply text-green-500;
}

.terminal-syntax .hljs-number {
  @apply text-yellow-500;
}

.terminal-syntax .hljs-keyword {
  @apply text-blue-500;
}

.terminal-syntax .hljs-literal {
  @apply text-cyan-500;
}

.terminal-syntax .hljs-comment {
  @apply text-gray-500;
}

.terminal-syntax .hljs-attr {
  @apply text-cyan-500;
}

.terminal-syntax .hljs-title {
  @apply text-purple-500;
}

.terminal-syntax .hljs-built_in {
  @apply text-blue-500;
}

.terminal-syntax .hljs-variable {
  @apply text-yellow-500;
}

/* Scrollbar styling for code blocks */
.code-block-content::-webkit-scrollbar {
  height: 8px;
  width: 8px;
}

.code-block-content::-webkit-scrollbar-track {
  @apply bg-base-200;
}

.code-block-content::-webkit-scrollbar-thumb {
  @apply bg-base-300 rounded-full;
}

.code-block-content::-webkit-scrollbar-thumb:hover {
  @apply bg-base-content;
}

/* Line numbers styling */
.line-numbers {
  @apply text-base-content opacity-40 select-none pr-4 text-right;
  min-width: 2.5rem;
}

/* Code line wrapper */
.code-line {
  @apply flex items-start;
}

.code-line-content {
  @apply flex-1 min-w-0;
}

/* Performance optimizations */
.code-block-content {
  contain: layout style paint;
}

/* Prevent line wrapping - use horizontal scroll instead */
.code-line-content code {
  white-space: pre;
  overflow-x: auto;
  display: block;
}

/* ==============================
   Dim/Glass Design Utilities
   Inspired by docs/design/new-design.html
   ============================== */

/* Vapor background with subtle gradients and scanlines */
.vapor-bg {
  position: fixed;
  inset: -12vmax;
  z-index: -10;
  pointer-events: none;
  background-image:
    radial-gradient(1200px 700px at 15% -10%, rgba(34, 197, 94, 0.14), transparent 60%),
    radial-gradient(1000px 600px at 85% 0%, rgba(59, 130, 246, 0.1), transparent 60%),
    linear-gradient(180deg, #0b0f0e, #121614);
  background-repeat: no-repeat;
  background-size: cover;
}

.vapor-bg .sunlines {
  position: absolute;
  inset: 0;
  background-image: repeating-linear-gradient(
    to bottom,
    rgba(255, 105, 180, 0.1) 0 8px,
    transparent 8px 22px
  );
  opacity: 0.15;
}

/* Temporarily disabled due to URL scheme error */
/*
.vapor-bg .noise::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 120 120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/%3E%3CfeColorMatrix values='0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .06 0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  background-size: 220px 220px;
  mix-blend-mode: overlay;
  opacity: 0.35;
}
*/

/* High-contrast glass card for dim theme */
.glass {
  background-color: rgba(12, 16, 14, 0.55);
  border: 1px solid rgba(255, 255, 255, 0.1);
  outline: 1px solid rgba(0, 0, 0, 0.45);
  backdrop-filter: blur(14px) saturate(140%);
  -webkit-backdrop-filter: blur(14px) saturate(140%);
  border-radius: 1.25rem;
  box-shadow:
    0 14px 44px rgba(0, 0, 0, 0.35),
    inset 0 1px 0 rgba(255, 255, 255, 0.06);
}

/* Subtle lift and ring on hover */
.ring-hover {
  transition:
    transform 0.2s ease,
    box-shadow 0.2s ease;
}
.ring-hover:hover {
  transform: translateY(-2px);
  box-shadow:
    0 0 0 1px rgba(16, 185, 129, 0.45),
    0 22px 56px rgba(0, 0, 0, 0.45);
}

/* Vapor style button for purple-accent actions */
.vapor-button {
  /* Pink/Purple CTA-like gradient */
  background-image: linear-gradient(135deg, #6366f1 0%, #a855f7 35%, #f472b6 100%);
  color: rgba(249, 250, 251, 0.98);
  border: 1px solid rgba(255, 255, 255, 0.14);
  outline: 1px solid rgba(0, 0, 0, 0.35);
  box-shadow:
    0 10px 28px rgba(168, 85, 247, 0.35),
    0 8px 22px rgba(99, 102, 241, 0.25),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
  transition:
    transform 0.15s ease,
    box-shadow 0.15s ease,
    filter 0.2s ease;
}
.vapor-button:hover {
  transform: translateY(-1px);
  box-shadow:
    0 16px 38px rgba(168, 85, 247, 0.45),
    0 12px 28px rgba(99, 102, 241, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.12);
  filter: saturate(1.06);
}
.vapor-button:active {
  transform: translateY(0);
}
.vapor-button:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 2px rgba(244, 114, 182, 0.45),
    0 18px 40px rgba(168, 85, 247, 0.35);
}

/* Readable copy on dark glass */
.card-copy {
  color: hsl(0 0% 96% / 0.95);
}
.card-sub {
  color: hsl(0 0% 92% / 0.8);
}

/* Pulse animation for voice input */
@keyframes pulse {
  0%,
  100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.05);
    opacity: 0.8;
  }
}
